<html>
	<body>
		<canvas id="canvas" width="1000" height="1000" style="border:1px solid #000000"></canvas>
		
		<script>
		
var canvas = document.getElementById("canvas");

redraw(canvas,0,0);


canvas.addEventListener("mousemove", function (evt) {
    var mousePos = getMousePos(canvas, evt);

	redraw(canvas, mousePos.x, mousePos.y);
	
}, false);

//Get Mouse Position
function getMousePos(canvas, evt) {
    var rect = canvas.getBoundingClientRect();
    return {
        x: evt.clientX - rect.left,
        y: evt.clientY - rect.top
    };
}

function line (ctx, x1,y1,x2,y2){
	ctx.moveTo(500+x1*300, 500-y1*300);
	ctx.lineTo(500+x2*300, 500-y2*300);
	ctx.stroke();
}

function deltaAngle(x,y,a){
	var Ax = Math.cos(a);
	var Ay = Math.sin(a);
	var cosB = (Ax-x) / Math.sqrt((Ax-x)*(Ax-x) + (Ay-y)*(Ay-y));
	var sinB = (Ay-y) / Math.sqrt((Ax-x)*(Ax-x) + (Ay-y)*(Ay-y));
	var l = 2*(Ay*sinB + Ax*cosB);
	var Bx = Ax- l * cosB;
	var By = Ay- l * sinB;
	return Math.atan2(By,Bx) - a
}

function drawPaths(ctx, x,y, reflections,steps){

	var step = 2*Math.PI/steps
	
	var b = step/2
	
	//line(ctx,0,0,x,y)
	
	for (var a=3*step/2;a<2*Math.PI;a+=step) {

	
		var a1 = a - deltaAngle(x,y,a) * reflections;
		var b1 = b - deltaAngle(x,y,b) * reflections;
		
		for(;a1<0;a1+=2*Math.PI){}
		for(;b1<0;b1+=2*Math.PI){}
		
		if (
			Math.sin(a1)>0 && Math.sin(b1)<0 && Math.cos(a1) > 0 && Math.cos(b1) > 0
		) {

			var k = (2*Math.PI-b1)/(a1+(2*Math.PI-b1)) 

			var goldenStartAngle = b + (b-a) * k
			
			var goldenAngle = deltaAngle(x,y, goldenStartAngle)
			
			
			var angle = 0;
			for (i=0;i<=reflections;i++) {
				x1 = Math.cos(i*goldenAngle)
				y1 = Math.sin(i*goldenAngle)
				x2 = Math.cos((i+1)*goldenAngle)
				y2 = Math.sin((i+1)*goldenAngle)
				line(ctx,x1,y1,x2,y2)
			}
		}

		b=a;
	
	}

}


function redraw(canvas,mouseX,mouseY){

	var ctx = canvas.getContext("2d");
	
	ctx.clearRect(0,0,1000,1000);

	ctx.lineWidth = 3;
	
	ctx.beginPath();
	ctx.arc(500, 500, 300, 0, 2 * Math.PI);
	ctx.stroke();

	ctx.moveTo(500, 0);
	ctx.lineTo(500, 1000);
	ctx.stroke();

	ctx.moveTo(0, 500);
	ctx.lineTo(1000, 500);
	ctx.stroke();
	
	var x = (mouseX-500)/300;
	var y = (500-mouseY)/300;

/*
	for (var a=0;a< 2* Math.PI; a+=Math.PI/4) {

		var Ax = Math.cos(a);
		var Ay = Math.sin(a);
		
		var delta=deltaAngle(x,y,a)

		var Bx = Math.cos(a+delta);
		var By = Math.sin(a+delta);

		if (Math.sqrt(x*x+y*y)<1) {
//			line(ctx,0,0,x,y);
			line(ctx,Ax,Ay,x,y);
			line(ctx,x,y,Bx,By);
		}
	}
*/	
	if (Math.sqrt(x*x+y*y)<1) {
		drawPaths(ctx,x,y,2,5000);
	}



	
}

		</script>
	</body>
</html>